<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="activeCard" sid="419470342453707" static="0" type="text"></variable>
        <event-block sid="224934108518189">
            <conditions>
                <condition id="3" name="All scripts loaded" sid="754010713713899" type="JS" />
            </conditions>
            <actions />
            <sub-events>
                <comment>set generator settings</comment>
                <event-block sid="365501367047691">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="915411674375379" type="System" />
                    </conditions>
                    <actions>
                        <action id="6" name="Call function" sid="331262826247130" type="JS">
                            <param id="0" name="Expression">&quot;gen.create&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;dungeon&quot;{###}&quot;default=5&quot;{###}&quot;enemy=2&quot;{###}&quot;chest=2&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment>test going to random layouts by tapping E on doors</comment>
                <event-block sid="715458647355391">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="256807376235457" type="Keyboard">
                            <param id="0" name="Key">69</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="506219011504200" type="player">
                            <param id="0" name="Object">collider_door</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-25" name="Go to layout (by name)" sid="624793972306122" type="System">
                            <param id="0" name="Layout">JS.JSCodeValue(&quot;gen.level(&apos;dungeon&apos;)&quot;)</param>
                        </action>
                    </actions>
                </event-block>
                <comment>UI card stuff</comment>
                <event-block sid="862845253263730">
                    <conditions>
                        <condition id="7" name="Cursor is over object" sid="677851697586875" type="Mouse">
                            <param id="0" name="Object">Cards</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="862749355770815" type="Cards">
                            <param id="0" name="Animation">&quot;mouseOver&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="122866256676169">
                    <conditions>
                        <condition id="7" inverted="1" name="Cursor is over object" sid="739873610157197" type="Mouse">
                            <param id="0" name="Object">Cards</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="918637055865799" type="Cards">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="605504827227523">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="951528124758611" type="Keyboard">
                            <param id="0" name="Key">32</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="843224426936161" type="Cards">
                            <param id="0" name="Instance variable">uses</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="885425155230686">
                            <conditions />
                            <actions>
                                <action id="0" name="Spawn another object" sid="712825794462063" type="cursor">
                                    <param id="0" name="Object">flame_spr</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="959850724883478" type="Cards">
                                    <param id="0" name="Instance variable">uses</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="317872780497150">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="682889022128252" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">Cards</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="500002760650858" type="System">
                            <param id="0" name="Variable">activeCard</param>
                            <param id="1" name="Value">Cards.name</param>
                        </action>
                        <action id="0" name="Play" sid="496217079308576" type="Audio">
                            <param id="0" name="Audio file">deckSound1</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;deck&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="678227844364010" title="AI">
                    <sub-events>
                        <variable constant="1" name="STEP" sid="832061240075697" static="1" type="number">256</variable>
                        <event-block sid="738363846211525">
                            <conditions>
                                <condition id="0" name="On function" sid="484225764240183" type="Function">
                                    <param id="0" name="Name">&quot;ai.move&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="961793140365363">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="932228851972448" type="System">
                                            <param id="0" name="Object">PathFinding</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="676981716189094">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="369609603403120" type="System">
                                                    <param id="0" name="First value">find(PathFinding.state, &quot;attack&quot;)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">-1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="654981738472602" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Value">Function.Call(&quot;ai.getAction&quot;, PathFinding.X, PathFinding.Y)</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="330156114169589" type="PathFinding">
                                                    <param id="0" name="Animation">&quot;Default&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment>enemy is attacking</comment>
                                        <event-block sid="602534059041152">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="540084894737091" type="System">
                                                    <param id="0" name="First value">find(PathFinding.state, &quot;attack&quot;)</param>
                                                    <param id="1" name="Comparison">1</param>
                                                    <param id="2" name="Second value">-1</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <comment>enemy preparing to attack</comment>
                                                <event-block sid="393965179442691">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="186749818388839" type="System">
                                                            <param id="0" name="First value">find(PathFinding.state, &quot;start&quot;)</param>
                                                            <param id="1" name="Comparison">1</param>
                                                            <param id="2" name="Second value">-1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="4" name="Set animation" sid="837626192836861" type="PathFinding">
                                                            <param id="0" name="Animation">&quot;Attacking&quot;</param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                        <action id="-10" name="Set value" sid="724645748000994" type="PathFinding">
                                                            <param id="0" name="Instance variable">state</param>
                                                            <param id="1" name="Value">replace(PathFinding.state, &quot;start-&quot;, &quot;&quot;)</param>
                                                        </action>
                                                        <action id="0" name="Spawn another object" sid="798631149625346" type="PathFinding">
                                                            <param id="0" name="Object">attackDirection</param>
                                                            <param id="1" name="Layer">1</param>
                                                            <param id="2" name="Image point">0</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>up down left right attack</comment>
                                                        <event-block sid="701219502185235">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="636109131581273" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;up&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="366739522355937" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X</param>
                                                                    <param id="1" name="Y">PathFinding.Y - STEP</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="825255542995050">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="721924748087993" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;down&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="417814682666387" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X</param>
                                                                    <param id="1" name="Y">PathFinding.Y + STEP</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="270134035579865">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="614867871500254" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;left&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="355953734066066" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X - STEP</param>
                                                                    <param id="1" name="Y">PathFinding.Y</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="438403385207967">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="239852997617992" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;right&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="905215759588508" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X + STEP</param>
                                                                    <param id="1" name="Y">PathFinding.Y</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <comment>diagonal attack</comment>
                                                        <event-block sid="794408129282466">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="370743232888601" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;upleft&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="493626209779337" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X - STEP</param>
                                                                    <param id="1" name="Y">PathFinding.Y - STEP</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="629320281282546">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="275738920198159" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;upright&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="766604444100637" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X + STEP</param>
                                                                    <param id="1" name="Y">PathFinding.Y - STEP</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="653160877270436">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="280326835493988" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;downleft&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="266839681221558" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X - STEP</param>
                                                                    <param id="1" name="Y">PathFinding.Y + STEP</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="547712177337783">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="386509172465842" type="System">
                                                                    <param id="0" name="First value">find(PathFinding.state, &quot;downright&quot;)</param>
                                                                    <param id="1" name="Comparison">1</param>
                                                                    <param id="2" name="Second value">-1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Set position" sid="769995870579516" type="attackDirection">
                                                                    <param id="0" name="X">PathFinding.X + STEP</param>
                                                                    <param id="1" name="Y">PathFinding.Y + STEP</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment>enemy attacking</comment>
                                                <event-block sid="783061254893374">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="320625555092439" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Spawn another object" sid="778280754076757" type="attackDirection">
                                                            <param id="0" name="Object">flame_spr</param>
                                                            <param id="1" name="Layer">1</param>
                                                            <param id="2" name="Image point">0</param>
                                                        </action>
                                                        <action id="-9" name="Destroy" sid="236188047372524" type="attackDirection" />
                                                        <action id="-10" name="Set value" sid="666417461042856" type="PathFinding">
                                                            <param id="0" name="Instance variable">state</param>
                                                            <param id="1" name="Value">&quot;rest&quot;</param>
                                                        </action>
                                                        <action id="4" name="Set animation" sid="166897500561841" type="PathFinding">
                                                            <param id="0" name="Animation">&quot;Default&quot;</param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <comment>left right movement</comment>
                                        <event-block sid="623666684192612">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="982644748897544" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;up&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-2" name="Set Y" sid="349789504354484" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y - STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="360061843653933">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="630053511828638" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;down&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-2" name="Set Y" sid="123026012666717" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y + STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="272999746006575">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="913415777965861" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;left&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="605212741225460" type="PathFinding">
                                                    <param id="0" name="X">Self.X - STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="698039018040906">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="887543751040074" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;right&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="149975618874165" type="PathFinding">
                                                    <param id="0" name="X">Self.X + STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment>diagonal</comment>
                                        <event-block sid="938726315233190">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="770243779933359" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;downright&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="659162058076926" type="PathFinding">
                                                    <param id="0" name="X">Self.X + STEP</param>
                                                </action>
                                                <action id="-2" name="Set Y" sid="168305343359885" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y + STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="956185377084005">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="664255496991527" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;downleft&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="108696914288772" type="PathFinding">
                                                    <param id="0" name="X">Self.X - STEP</param>
                                                </action>
                                                <action id="-2" name="Set Y" sid="522370326081437" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y + STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="954559454794418">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="140778708152095" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;upright&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="813716894900540" type="PathFinding">
                                                    <param id="0" name="X">Self.X + STEP</param>
                                                </action>
                                                <action id="-2" name="Set Y" sid="803414331249995" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y - STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="128289499943919">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="570644692513464" type="PathFinding">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;upleft&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="224958468860131" type="PathFinding">
                                                    <param id="0" name="X">Self.X - STEP</param>
                                                </action>
                                                <action id="-2" name="Set Y" sid="818438217934013" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y - STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>this function basically controls how the AI acts. So we can adjust slowly as we go</comment>
                        <event-block sid="147438784825057">
                            <conditions>
                                <condition id="0" name="On function" sid="101125578565758" type="Function">
                                    <param id="0" name="Name">&quot;ai.getAction&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <variable constant="0" name="x" sid="301101018949799" static="0" type="number">0</variable>
                                <variable constant="0" name="y" sid="370273658590710" static="0" type="number">0</variable>
                                <variable constant="0" name="result" sid="337885797547226" static="0" type="text"></variable>
                                <event-block sid="818515352536734">
                                    <conditions />
                                    <actions>
                                        <action id="-9" name="Set value" sid="171368221539080" type="System">
                                            <param id="0" name="Variable">x</param>
                                            <param id="1" name="Value">Function.Param(0)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="678285642272378" type="System">
                                            <param id="0" name="Variable">y</param>
                                            <param id="1" name="Value">Function.Param(1)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="468292485088409" type="System">
                                            <param id="0" name="Variable">result</param>
                                            <param id="1" name="Value">&quot;&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>action</comment>
                                <event-block sid="793520137086056">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="682629293080317" type="System">
                                            <param id="0" name="First value">distance(player.X, player.Y, x, y)</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Second value">512</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="707147648874218" type="System">
                                            <param id="0" name="Variable">result</param>
                                            <param id="1" name="Value">&quot;start-attack-&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>directional</comment>
                                <event-block sid="237528199257912">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="352587769735691" type="System">
                                            <param id="0" name="First value">player.Y</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="461938649538804" type="System">
                                            <param id="0" name="Variable">result</param>
                                            <param id="1" name="Value">result &amp; &quot;up&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="577635994078175">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="477984988660053" type="System">
                                            <param id="0" name="First value">player.Y</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">y</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="986003340537222" type="System">
                                            <param id="0" name="Variable">result</param>
                                            <param id="1" name="Value">result &amp; &quot;down&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="309565496393287">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="209270133717281" type="System">
                                            <param id="0" name="First value">player.X</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">x</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="396089058409566" type="System">
                                            <param id="0" name="Variable">result</param>
                                            <param id="1" name="Value">result &amp; &quot;left&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="105406242035541">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="627359028669960" type="System">
                                            <param id="0" name="First value">player.X</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">x</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="969296310280925" type="System">
                                            <param id="0" name="Variable">result</param>
                                            <param id="1" name="Value">result &amp; &quot;right&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>return value of function</comment>
                                <event-block sid="156456741880761">
                                    <conditions />
                                    <actions>
                                        <action id="1" name="Set return value" sid="479603476369523" type="Function">
                                            <param id="0" name="Value">result</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="920824305230785" title="Attacc">
                    <sub-events>
                        <event-block sid="581363462083263">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="691679223398860" type="player">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;attacking&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="297827435146796">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="348544235546004" type="Keyboard">
                                            <param id="0" name="Key">87</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set position to another object" sid="175185771294010" type="cursor">
                                            <param id="0" name="Object">player</param>
                                            <param id="1" name="Image point (optional)">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="935830746058345">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="170439895093821" type="Keyboard">
                                            <param id="0" name="Key">65</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set position to another object" sid="236886669208900" type="cursor">
                                            <param id="0" name="Object">player</param>
                                            <param id="1" name="Image point (optional)">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="546991021599886">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="968022125427387" type="Keyboard">
                                            <param id="0" name="Key">83</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set position to another object" sid="408073022893702" type="cursor">
                                            <param id="0" name="Object">player</param>
                                            <param id="1" name="Image point (optional)">4</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="743450365197527">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="553536406482520" type="Keyboard">
                                            <param id="0" name="Key">68</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set position to another object" sid="687066164851723" type="cursor">
                                            <param id="0" name="Object">player</param>
                                            <param id="1" name="Image point (optional)">3</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="581433545202727" title="Interface">
                    <sub-events>
                        <event-block sid="897357849305782">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="274623715068780" type="Keyboard">
                                    <param id="0" name="Key">81</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="464832050808339">
                                    <conditions>
                                        <condition id="-9" name="Layer is visible" sid="720568690351994" type="System">
                                            <param id="0" name="Layer">&quot;UI&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set layer visible" sid="871105976008974" type="System">
                                            <param id="0" name="Layer">&quot;UI&quot;</param>
                                            <param id="1" name="Visibility">0</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="943809306874941" type="player">
                                            <param id="0" name="Instance variable">busy</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="379999967260918" type="cursor" />
                                    </actions>
                                </event-block>
                                <event-block sid="892321973596911">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="632106261880735" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set layer visible" sid="321240714441726" type="System">
                                            <param id="0" name="Layer">&quot;UI&quot;</param>
                                            <param id="1" name="Visibility">1</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="614346915827617" type="player">
                                            <param id="0" name="Instance variable">busy</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="0" name="Spawn another object" sid="371922228546975" type="player">
                                            <param id="0" name="Object">cursor</param>
                                            <param id="1" name="Layer">&quot;UI&quot;</param>
                                            <param id="2" name="Image point">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>ur turn HUD thing</comment>
                        <event-block sid="205731047981649">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="537799352920573" type="player">
                                    <param id="0" name="Instance variable">busy</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="150871813050968" type="your_turn">
                                    <param id="0" name="Animation">&quot;Pop&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="352951812335560">
                            <conditions>
                                <condition id="-22" name="Else" sid="166999346212682" type="System" />
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="572872455330337" type="your_turn">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="4" name="Set animation" sid="178596204045368" type="your_turn">
                                    <param id="0" name="Animation">&quot;Default&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="574583957103195">
                            <conditions>
                                <condition id="4" name="On finished" sid="540742432472096" type="your_turn">
                                    <param id="0" name="Animation">&quot;Pop&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="421649523644886" type="your_turn">
                                    <param id="0" name="Visibility">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="530281498606617" title="Movement">
                    <sub-events>
                        <variable constant="1" name="STEP" sid="797742626029054" static="0" type="number">256</variable>
                        <event-block sid="475098795548474">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="835047329849183" type="player">
                                    <param id="0" name="Instance variable">busy</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <comment>turn based wait thing for ai moving</comment>
                                <event-block sid="403358942395950">
                                    <conditions>
                                        <condition id="-3" name="Is on-screen" sid="595855860010369" type="PathFinding" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block any="1" sid="624569238084121">
                                            <conditions>
                                                <condition id="0" name="On key pressed" sid="827947782057009" type="Keyboard">
                                                    <param id="0" name="Key">87</param>
                                                </condition>
                                                <condition id="0" name="On key pressed" sid="836486615615804" type="Keyboard">
                                                    <param id="0" name="Key">65</param>
                                                </condition>
                                                <condition id="0" name="On key pressed" sid="917815644208812" type="Keyboard">
                                                    <param id="0" name="Key">83</param>
                                                </condition>
                                                <condition id="0" name="On key pressed" sid="816384765864115" type="Keyboard">
                                                    <param id="0" name="Key">68</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="797632196327648" type="Function">
                                                    <param id="0" name="Name">&quot;ai.move&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="688028443609839">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="497982873268297" type="Keyboard">
                                            <param id="0" name="Key">87</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Set Y" sid="904215525193627" type="player">
                                            <param id="0" name="Y">player.Y-STEP</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="773629961553574">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="274283365176876" type="Keyboard">
                                            <param id="0" name="Key">65</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="382204710041748" type="player">
                                            <param id="0" name="X">player.X-STEP</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="400330378666430">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="426140186591646" type="Keyboard">
                                            <param id="0" name="Key">83</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Set Y" sid="569928327906774" type="player">
                                            <param id="0" name="Y">player.Y+STEP</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="923812219897448">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="490912098116846" type="Keyboard">
                                            <param id="0" name="Key">68</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="428712805886893" type="player">
                                            <param id="0" name="X">player.X+STEP</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="378854519229160" title="Chest">
                    <sub-events>
                        <event-block sid="342324836275207">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="582754747729678" type="spr_chest">
                                    <param id="0" name="Instance variable">empty</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="896543920642775">
                                    <conditions>
                                        <condition id="7" name="Cursor is over object" sid="619089835847559" type="Mouse">
                                            <param id="0" name="Object">spr_chest</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="278295513613728" type="spr_chest">
                                            <param id="0" name="Animation">&quot;Hover&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="831820074011063">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="410272170784953" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="557935472589185" type="spr_chest">
                                            <param id="0" name="Animation">&quot;Default&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="416928585001142">
                                    <conditions>
                                        <condition id="6" name="On object clicked" sid="695005672913024" type="Mouse">
                                            <param id="0" name="Mouse button">0</param>
                                            <param id="1" name="Click type">0</param>
                                            <param id="2" name="Object clicked">spr_chest</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="757501998884701" type="spr_chest">
                                            <param id="0" name="Instance variable">empty</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="281182483749680" type="spr_chest">
                                            <param id="0" name="Animation">&quot;Open&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="6" name="Call function" sid="278682696122550" type="JS">
                                            <param id="0" name="Expression">&quot;inv.addItems&quot;</param>
                                            <param id="1" name="Parameter {n}">spr_chest.loot</param>
                                        </action>
                                        <action id="6" name="Call function" sid="117343679550656" type="JS">
                                            <param id="0" name="Expression">&quot;inv.print&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="687204586971677">
                                            <conditions />
                                            <actions>
                                                <action id="0" name="Play" sid="186233546548042" type="Audio">
                                                    <param id="0" name="Audio file">lootGet1</param>
                                                    <param id="2" name="Loop">0</param>
                                                    <param id="3" name="Volume">10</param>
                                                    <param id="1" name="Tag (optional)">&quot;loot&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-block>
        <event-block sid="356992881870320">
            <conditions>
                <condition id="-3" name="Is on-screen" sid="289620325874406" type="flame_spr" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="271217295059194">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="179504091096227" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="873121195957527" type="Audio">
                            <param id="0" name="Audio file">fire1</param>
                            <param id="2" name="Loop">1</param>
                            <param id="3" name="Volume">-5</param>
                            <param id="1" name="Tag (optional)">&quot;fire&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="116953690485964">
            <conditions>
                <condition id="-22" name="Else" sid="104264624084176" type="System" />
            </conditions>
            <actions>
                <action id="6" name="Stop" sid="874681039355019" type="Audio">
                    <param id="0" name="Tag">&quot;fire&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="992088422561711">
            <conditions>
                <condition id="-7" name="Compare time" sid="105986681377453" type="System">
                    <param id="0" name="Comparison">0</param>
                    <param id="1" name="Time (seconds)">0</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="131100242335884">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="396697986824407" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="631873138957737" type="Audio">
                            <param id="0" name="Audio file">tempSong</param>
                            <param id="2" name="Loop">1</param>
                            <param id="3" name="Volume">-5</param>
                            <param id="1" name="Tag (optional)">&quot;music&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
