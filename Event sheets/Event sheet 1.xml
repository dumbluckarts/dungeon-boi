<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <event-block sid="224934108518189">
            <conditions>
                <condition id="3" name="All scripts loaded" sid="754010713713899" type="JS" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="862845253263730">
                    <conditions>
                        <condition id="7" name="Cursor is over object" sid="677851697586875" type="Mouse">
                            <param id="0" name="Object">Cards</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="862749355770815" type="Cards">
                            <param id="0" name="Animation">&quot;mouseOver&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="122866256676169">
                    <conditions>
                        <condition id="7" inverted="1" name="Cursor is over object" sid="739873610157197" type="Mouse">
                            <param id="0" name="Object">Cards</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="918637055865799" type="Cards">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="605504827227523">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="951528124758611" type="Keyboard">
                            <param id="0" name="Key">32</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="843224426936161" type="Cards">
                            <param id="0" name="Instance variable">uses</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="885425155230686">
                            <conditions />
                            <actions>
                                <action id="0" name="Spawn another object" sid="712825794462063" type="cursor">
                                    <param id="0" name="Object">flame_spr</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="959850724883478" type="Cards">
                                    <param id="0" name="Instance variable">uses</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-group description="" sid="678227844364010" title="AI">
                    <sub-events>
                        <variable constant="1" name="STEP" sid="832061240075697" static="1" type="number">256</variable>
                        <event-block sid="738363846211525">
                            <conditions>
                                <condition id="0" name="On function" sid="484225764240183" type="Function">
                                    <param id="0" name="Name">&quot;ai.move&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="961793140365363">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="932228851972448" type="System">
                                            <param id="0" name="Object">PathFinding</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <variable constant="0" name="direction" sid="875483385242945" static="0" type="text">none</variable>
                                        <event-block sid="419948863326777">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Set value" sid="162838386480379" type="System">
                                                    <param id="0" name="Variable">direction</param>
                                                    <param id="1" name="Value">Function.Call(&quot;ai.direction&quot;, PathFinding.X, PathFinding.Y)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="623666684192612">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="982644748897544" type="System">
                                                    <param id="0" name="Variable">direction</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;up&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-2" name="Set Y" sid="349789504354484" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y - STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="360061843653933">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="108902800314258" type="System" />
                                                <condition id="-14" name="Compare variable" sid="728203539059121" type="System">
                                                    <param id="0" name="Variable">direction</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;down&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-2" name="Set Y" sid="123026012666717" type="PathFinding">
                                                    <param id="0" name="Y">Self.Y + STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="272999746006575">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="735389328205192" type="System" />
                                                <condition id="-14" name="Compare variable" sid="344169893695631" type="System">
                                                    <param id="0" name="Variable">direction</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;left&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="605212741225460" type="PathFinding">
                                                    <param id="0" name="X">Self.X - STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="698039018040906">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="261166355072235" type="System" />
                                                <condition id="-14" name="Compare variable" sid="982980310027757" type="System">
                                                    <param id="0" name="Variable">direction</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;right&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="149975618874165" type="PathFinding">
                                                    <param id="0" name="X">Self.X + STEP</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="147438784825057">
                            <conditions>
                                <condition id="0" name="On function" sid="101125578565758" type="Function">
                                    <param id="0" name="Name">&quot;ai.direction&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="309565496393287">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="209270133717281" type="System">
                                            <param id="0" name="First value">player.X</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="414255371908746" type="Function">
                                            <param id="0" name="Value">&quot;left&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="105406242035541">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="627359028669960" type="System">
                                            <param id="0" name="First value">player.X</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="136927816808049" type="Function">
                                            <param id="0" name="Value">&quot;right&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="237528199257912">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="352587769735691" type="System">
                                            <param id="0" name="First value">player.Y</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="158238050212828" type="Function">
                                            <param id="0" name="Value">&quot;up&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="577635994078175">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="477984988660053" type="System">
                                            <param id="0" name="First value">player.Y</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">Function.Param(1)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="873265589586068" type="Function">
                                            <param id="0" name="Value">&quot;down&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="920824305230785" title="Attacc">
                    <sub-events>
                        <event-block sid="297827435146796">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="348544235546004" type="Keyboard">
                                    <param id="0" name="Key">87</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="175185771294010" type="cursor">
                                    <param id="0" name="Object">player</param>
                                    <param id="1" name="Image point (optional)">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="935830746058345">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="170439895093821" type="Keyboard">
                                    <param id="0" name="Key">65</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="236886669208900" type="cursor">
                                    <param id="0" name="Object">player</param>
                                    <param id="1" name="Image point (optional)">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="546991021599886">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="968022125427387" type="Keyboard">
                                    <param id="0" name="Key">83</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="408073022893702" type="cursor">
                                    <param id="0" name="Object">player</param>
                                    <param id="1" name="Image point (optional)">4</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="743450365197527">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="553536406482520" type="Keyboard">
                                    <param id="0" name="Key">68</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="687066164851723" type="cursor">
                                    <param id="0" name="Object">player</param>
                                    <param id="1" name="Image point (optional)">3</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="581433545202727" title="Interface">
                    <sub-events>
                        <event-block sid="897357849305782">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="274623715068780" type="Keyboard">
                                    <param id="0" name="Key">81</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="464832050808339">
                                    <conditions>
                                        <condition id="-9" name="Layer is visible" sid="720568690351994" type="System">
                                            <param id="0" name="Layer">&quot;UI&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set layer visible" sid="871105976008974" type="System">
                                            <param id="0" name="Layer">&quot;UI&quot;</param>
                                            <param id="1" name="Visibility">0</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="943809306874941" type="player">
                                            <param id="0" name="Instance variable">busy</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="379999967260918" type="cursor" />
                                    </actions>
                                </event-block>
                                <event-block sid="892321973596911">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="632106261880735" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-4" name="Set layer visible" sid="321240714441726" type="System">
                                            <param id="0" name="Layer">&quot;UI&quot;</param>
                                            <param id="1" name="Visibility">1</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="614346915827617" type="player">
                                            <param id="0" name="Instance variable">busy</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="0" name="Spawn another object" sid="371922228546975" type="player">
                                            <param id="0" name="Object">cursor</param>
                                            <param id="1" name="Layer">&quot;UI&quot;</param>
                                            <param id="2" name="Image point">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="530281498606617" title="Movement">
                    <sub-events>
                        <variable constant="1" name="STEP" sid="797742626029054" static="0" type="number">256</variable>
                        <event-block sid="475098795548474">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="835047329849183" type="player">
                                    <param id="0" name="Instance variable">busy</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="688028443609839">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="497982873268297" type="Keyboard">
                                            <param id="0" name="Key">87</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Set Y" sid="904215525193627" type="player">
                                            <param id="0" name="Y">player.Y-STEP</param>
                                        </action>
                                        <action id="0" name="Call function" sid="449080378930756" type="Function">
                                            <param id="0" name="Name">&quot;ai.move&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="773629961553574">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="274283365176876" type="Keyboard">
                                            <param id="0" name="Key">65</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="382204710041748" type="player">
                                            <param id="0" name="X">player.X-STEP</param>
                                        </action>
                                        <action id="0" name="Call function" sid="368282632660455" type="Function">
                                            <param id="0" name="Name">&quot;ai.move&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="400330378666430">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="426140186591646" type="Keyboard">
                                            <param id="0" name="Key">83</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Set Y" sid="569928327906774" type="player">
                                            <param id="0" name="Y">player.Y+STEP</param>
                                        </action>
                                        <action id="0" name="Call function" sid="879575538063889" type="Function">
                                            <param id="0" name="Name">&quot;ai.move&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="923812219897448">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="490912098116846" type="Keyboard">
                                            <param id="0" name="Key">68</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="428712805886893" type="player">
                                            <param id="0" name="X">player.X+STEP</param>
                                        </action>
                                        <action id="0" name="Call function" sid="797632196327648" type="Function">
                                            <param id="0" name="Name">&quot;ai.move&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="378854519229160" title="Chest">
                    <sub-events>
                        <event-block sid="342324836275207">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="582754747729678" type="spr_chest">
                                    <param id="0" name="Instance variable">empty</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="896543920642775">
                                    <conditions>
                                        <condition id="7" name="Cursor is over object" sid="619089835847559" type="Mouse">
                                            <param id="0" name="Object">spr_chest</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="278295513613728" type="spr_chest">
                                            <param id="0" name="Animation">&quot;Hover&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="831820074011063">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="410272170784953" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="557935472589185" type="spr_chest">
                                            <param id="0" name="Animation">&quot;Default&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="416928585001142">
                                    <conditions>
                                        <condition id="6" name="On object clicked" sid="695005672913024" type="Mouse">
                                            <param id="0" name="Mouse button">0</param>
                                            <param id="1" name="Click type">0</param>
                                            <param id="2" name="Object clicked">spr_chest</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="757501998884701" type="spr_chest">
                                            <param id="0" name="Instance variable">empty</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="281182483749680" type="spr_chest">
                                            <param id="0" name="Animation">&quot;Open&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="6" name="Call function" sid="278682696122550" type="JS">
                                            <param id="0" name="Expression">&quot;inv.addItems&quot;</param>
                                            <param id="1" name="Parameter {n}">spr_chest.loot</param>
                                        </action>
                                        <action id="6" name="Call function" sid="117343679550656" type="JS">
                                            <param id="0" name="Expression">&quot;inv.print&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
