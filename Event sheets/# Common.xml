<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name># Common</name>
    <events>
        <include># Player</include>
        <include># Interface</include>
        <include># Generation</include>
        <include># Real People</include>
        <variable constant="0" name="TURN_TIME" sid="311753241124730" static="0" type="number">0.5</variable>
        <event-group description="" sid="278046626711698" title="Setup">
            <sub-events>
                <variable constant="1" name="INTERVAL" sid="831335659077992" static="0" type="number">11</variable>
                <comment>rarity</comment>
                <variable constant="1" name="RARITY_DEFAULT" sid="359937907075334" static="0" type="number">5</variable>
                <variable constant="1" name="RARITY_CHEST" sid="165437344726010" static="0" type="number">2</variable>
                <variable constant="1" name="RARITY_ENEMY" sid="843614851203848" static="0" type="number">0</variable>
                <variable constant="1" name="RARITY_SHOP" sid="254028925427082" static="0" type="number">7</variable>
                <variable constant="1" name="RARITY_BOSS" sid="661966669910714" static="0" type="number">10</variable>
                <comment>priority</comment>
                <variable constant="1" name="PRIORITY_DEFAULT" sid="685120728958899" static="0" type="number">2</variable>
                <variable constant="1" name="PRIORITY_CHEST" sid="550856538170383" static="0" type="number">2</variable>
                <variable constant="1" name="PRIORITY_ENEMY" sid="480851804844931" static="0" type="number">1</variable>
                <variable constant="1" name="PRIORITY_SHOP" sid="528523216389932" static="0" type="number">3</variable>
                <variable constant="1" name="PRIORITY_BOSS" sid="320080256858791" static="0" type="number">4</variable>
                <event-block sid="885509684978048">
                    <conditions>
                        <condition id="-25" name="On loader layout complete" sid="724788694306425" type="System" />
                        <condition id="3" name="All scripts loaded" sid="754161536600528" type="JS" />
                    </conditions>
                    <actions>
                        <action id="6" name="Call function" sid="553791605114297" type="JS">
                            <param id="0" name="Expression">&quot;degenerate&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;interval=&quot; &amp; INTERVAL</param>
                        </action>
                        <action id="6" name="Call function" sid="594576693497684" type="JS">
                            <param id="0" name="Expression">&quot;degenerate.addCategories&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;name=default, rarity=&quot; &amp; RARITY_DEFAULT &amp; &quot;, priority=&quot; &amp; PRIORITY_DEFAULT</param>
                        </action>
                        <action id="6" name="Call function" sid="605312311147740" type="JS">
                            <param id="0" name="Expression">&quot;degenerate.addCategories&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;name=chest, overlap=1, rarity=&quot; &amp; RARITY_CHEST &amp; &quot;, priority=&quot; &amp; PRIORITY_CHEST</param>
                        </action>
                        <action id="6" name="Call function" sid="145181169319214" type="JS">
                            <param id="0" name="Expression">&quot;degenerate.addCategories&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;name=enemy, overlap=1, rarity=&quot; &amp; RARITY_ENEMY &amp; &quot;, priority=&quot; &amp; PRIORITY_ENEMY</param>
                        </action>
                        <action id="6" name="Call function" sid="573988893235727" type="JS">
                            <param id="0" name="Expression">&quot;degenerate.addCategories&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;name=shop, rarity=&quot; &amp; RARITY_SHOP &amp; &quot;, priority=&quot; &amp; PRIORITY_SHOP</param>
                        </action>
                        <action id="6" name="Call function" sid="264867900086547" type="JS">
                            <param id="0" name="Expression">&quot;degenerate.addCategories&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;name=boss, rarity=&quot; &amp; RARITY_BOSS &amp; &quot;, priority=&quot; &amp; PRIORITY_BOSS</param>
                        </action>
                        <action id="6" name="Call function" sid="870509781384327" type="JS">
                            <param id="0" name="Expression">&quot;degenerate.addLayouts&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;name=dungeon, amount=2&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment>old setup</comment>
        <event-block sid="153755729882182">
            <conditions>
                <condition id="-25" name="On loader layout complete" sid="473534351192900" type="System" />
                <condition id="3" name="All scripts loaded" sid="249620580965593" type="JS" />
            </conditions>
            <actions>
                <action id="6" name="Call function" sid="667982979599250" type="JS">
                    <param id="0" name="Expression">&quot;gen&quot;</param>
                    <param id="1" name="Parameter {n}">&quot;dungeon&quot;{###}2</param>
                </action>
                <action id="-36" name="Save" sid="251293215025864" type="System">
                    <param id="0" name="Slot">&quot;mysave&quot;</param>
                </action>
                <action id="-18" name="Set layer opacity" sid="739445016341197" type="System">
                    <param id="0" name="Layer">&quot;Blood&quot;</param>
                    <param id="1" name="Opacity">0</param>
                </action>
            </actions>
        </event-block>
        <comment>play music</comment>
        <event-block sid="131164295376343">
            <conditions>
                <condition id="5" inverted="1" name="Is tag playing" sid="876662543084831" type="Audio">
                    <param id="0" name="Tag">&quot;music&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Play" sid="736352665881412" type="Audio">
                    <param id="0" name="Audio file">tempSong</param>
                    <param id="2" name="Loop">1</param>
                    <param id="3" name="Volume">-10</param>
                    <param id="1" name="Tag (optional)">&quot;music&quot;</param>
                </action>
            </actions>
        </event-block>
        <comment>doors</comment>
        <event-block sid="428402202390904">
            <conditions>
                <condition id="0" name="On key pressed" sid="919548917111936" type="Keyboard">
                    <param id="0" name="Key">69</param>
                </condition>
                <condition id="1" name="Is overlapping another object" sid="847023263757561" type="player">
                    <param id="0" name="Object">door_collider</param>
                </condition>
                <condition id="1" name="Is overlapping another object" sid="855687674732987" type="door_collider">
                    <param id="0" name="Object">Doors</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="889506070435978">
                    <conditions>
                        <condition id="2" inverted="1" name="Is playing" sid="131774949688250" type="Doors">
                            <param id="0" name="Animation">&quot;Locked&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="668296385045475">
                            <conditions>
                                <condition id="-10" name="For" sid="306539897794604" type="System">
                                    <param id="0" name="Name">&quot;layout-fade&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">20</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="597552890261785" type="System">
                                    <param id="0" name="Seconds">0.01*loopindex</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="171223599067236" type="blac">
                                    <param id="0" name="Opacity">blac.Opacity+5</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="819870251781793">
                            <conditions />
                            <actions>
                                <action id="-16" name="Wait" sid="632021788009463" type="System">
                                    <param id="0" name="Seconds">0.2</param>
                                </action>
                                <action id="-4" name="Set layer visible" sid="403325515178944" type="System">
                                    <param id="0" name="Layer">&quot;Loading&quot;</param>
                                    <param id="1" name="Visibility">1</param>
                                </action>
                                <action id="-25" name="Go to layout (by name)" sid="908221400841287" type="System">
                                    <param id="0" name="Layout">Function.Call(&quot;generateLayout&quot;, &quot;dungeon&quot;)</param>
                                </action>
                                <action id="0" name="Play" sid="890644756353780" type="Audio">
                                    <param id="0" name="Audio file">door</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">-10</param>
                                    <param id="1" name="Tag (optional)">&quot;door&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="377810563821670">
                    <conditions>
                        <condition id="-22" name="Else" sid="786561935119975" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="984661321927359" type="Audio">
                            <param id="0" name="Audio file">locked</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">-10</param>
                            <param id="1" name="Tag (optional)">&quot;locked&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>lock doors if enemies on screen</comment>
        <event-block sid="312907109712529">
            <conditions>
                <condition id="-3" name="Is on-screen" sid="942349446234108" type="PathFinding" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="605110399661176" type="Doors">
                    <param id="0" name="Animation">&quot;Locked&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="326650605046982">
            <conditions>
                <condition id="-22" name="Else" sid="735950482940484" type="System" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="852264311630649" type="Doors">
                    <param id="0" name="Animation">&quot;Default&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="918296554296439" title="Camera">
            <sub-events>
                <event-block sid="858913440476167">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="488073330303599" type="System" />
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="855378695097128" type="System">
                            <param id="0" name="Seconds">0.0001</param>
                        </action>
                        <action id="-3" name="Create object" sid="710448210580920" type="System">
                            <param id="0" name="Object to create">camera</param>
                            <param id="1" name="Layer">&quot;Colliders&quot;</param>
                            <param id="2" name="X">player.X</param>
                            <param id="3" name="Y">player.Y</param>
                        </action>
                    </actions>
                </event-block>
                <variable constant="1" name="CAM_SPEED" sid="960753553062681" static="1" type="number">3</variable>
                <event-block sid="735387870424819">
                    <conditions />
                    <actions>
                        <action id="-3" name="Set position" sid="619504477218794" type="camera">
                            <param id="0" name="X">lerp(Self.X, player.X, CAM_SPEED*dt)</param>
                            <param id="1" name="Y">lerp(Self.Y, player.Y, CAM_SPEED*dt)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="378854519229160" title="Chest">
            <sub-events>
                <event-block sid="342324836275207">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="582754747729678" type="spr_chest">
                            <param id="0" name="Instance variable">empty</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="307205498081789">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="158264641327300" type="player">
                                    <param id="0" name="Object">spr_chest</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="278295513613728" type="spr_chest">
                                    <param id="0" name="Animation">&quot;Hover&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="831820074011063">
                            <conditions>
                                <condition id="-22" name="Else" sid="410272170784953" type="System" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="557935472589185" type="spr_chest">
                                    <param id="0" name="Animation">&quot;Default&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="416928585001142">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="690891807541790" type="Keyboard">
                                    <param id="0" name="Key">69</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="451752273607857" type="player">
                                    <param id="0" name="Object">spr_chest</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="757501998884701" type="spr_chest">
                                    <param id="0" name="Instance variable">empty</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="4" name="Set animation" sid="281182483749680" type="spr_chest">
                                    <param id="0" name="Animation">&quot;Open&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="6" name="Call function" sid="278682696122550" type="JS">
                                    <param id="0" name="Expression">&quot;inv.addItems&quot;</param>
                                    <param id="1" name="Parameter {n}">spr_chest.loot</param>
                                </action>
                                <action id="6" name="Call function" sid="117343679550656" type="JS">
                                    <param id="0" name="Expression">&quot;inv.print&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="687204586971677">
                                    <conditions />
                                    <actions>
                                        <action id="0" name="Play" sid="186233546548042" type="Audio">
                                            <param id="0" name="Audio file">lootGet1</param>
                                            <param id="2" name="Loop">0</param>
                                            <param id="3" name="Volume">10</param>
                                            <param id="1" name="Tag (optional)">&quot;loot&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="818649156212513" title="Cool Stuff">
            <sub-events>
                <comment>flame sound</comment>
                <event-block sid="356992881870320">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="289620325874406" type="flame_spr" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="271217295059194">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="179504091096227" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="873121195957527" type="Audio">
                                    <param id="0" name="Audio file">fire1</param>
                                    <param id="2" name="Loop">1</param>
                                    <param id="3" name="Volume">-5</param>
                                    <param id="1" name="Tag (optional)">&quot;fire&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="116953690485964">
                    <conditions>
                        <condition id="-22" name="Else" sid="104264624084176" type="System" />
                    </conditions>
                    <actions>
                        <action id="6" name="Stop" sid="874681039355019" type="Audio">
                            <param id="0" name="Tag">&quot;fire&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment>destroy slash when finished</comment>
                <event-block sid="281700014652823">
                    <conditions>
                        <condition id="4" name="On finished" sid="367445655079608" type="flame_spr2">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="192939967658131" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="882652672473377">
                            <conditions>
                                <condition id="-10" name="For" sid="867935383866260" type="System">
                                    <param id="0" name="Name">&quot;&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">10</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="712594908788489" type="System">
                                    <param id="0" name="Seconds">loopindex/10</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="312823918334176" type="flame_spr2">
                                    <param id="0" name="Opacity">flame_spr2.Opacity - 10</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="990641577521697">
                    <conditions>
                        <condition id="-10" name="Compare opacity" sid="610098767785705" type="flame_spr2">
                            <param id="0" name="Comparison">3</param>
                            <param id="1" name="Opacity">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="804567586248675" type="flame_spr2" />
                    </actions>
                </event-block>
                <event-block sid="511828772950622">
                    <conditions>
                        <condition id="-18" name="On created" sid="906131750189514" type="flame_spr2" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="315637256010219" type="Audio">
                            <param id="0" name="Audio file">slash</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">-10</param>
                            <param id="1" name="Tag (optional)">&quot;slash&quot;</param>
                        </action>
                        <action behavior="ScrollTo" id="0" name="Shake" sid="600544493652459" type="camera">
                            <param id="0" name="Magnitude">30</param>
                            <param id="1" name="Duration">0.4</param>
                            <param id="2" name="Mode">0</param>
                        </action>
                        <action id="5" name="Set playback rate" sid="311389101808802" type="Audio">
                            <param id="0" name="Tag">&quot;slash&quot;</param>
                            <param id="1" name="Playback rate">random(0.8, 1.2)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment>NEEDS REVISING FOR NORMAL MOVEMENT</comment>
        <event-group description="" sid="290257035324819" title="Movement">
            <sub-events>
                <variable constant="1" name="STEP" sid="708237805233729" static="0" type="number">256</variable>
                <event-block sid="867462229624705">
                    <conditions>
                        <condition behavior="8Direction" id="0" inverted="1" name="Is moving" sid="373876476274345" type="player" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="520644530676812" type="player">
                            <param id="0" name="Animation">&quot;downIdle&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="666213768543873">
                    <conditions>
                        <condition behavior="8Direction" id="0" name="Is moving" sid="840109610163468" type="player" />
                        <condition id="-4" name="Trigger once while true" sid="871154035101816" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="984092863188966" type="player">
                            <param id="0" name="Object">dust</param>
                            <param id="1" name="Layer">1</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="973990862417947" type="dust">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="150521021437276">
                    <conditions>
                        <condition id="4" name="On finished" sid="359492518251101" type="dust">
                            <param id="0" name="Animation">&quot;default&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="382139918468171" type="dust" />
                    </actions>
                </event-block>
                <comment>Randomize Footstep sound effects</comment>
                <event-block sid="901934544265128">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="660186648812701" type="System">
                            <param id="0" name="Interval (seconds)">0.25</param>
                        </condition>
                        <condition behavior="8Direction" id="0" name="Is moving" sid="791769361250932" type="player" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="503683542009873">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="305739620872915" type="System">
                                    <param id="0" name="First value">int(random(0,2))</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="665830833124178" type="Audio">
                                    <param id="0" name="Audio file">mushStep1</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">15</param>
                                    <param id="1" name="Tag (optional)">&quot;step1&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="669353543808839">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="278469668009685" type="System">
                                    <param id="0" name="First value">int(random(0,3))</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="537720818170012" type="Audio">
                                    <param id="0" name="Audio file">mushStep2</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">25</param>
                                    <param id="1" name="Tag (optional)">&quot;step2&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="725016353149178">
                            <conditions>
                                <condition id="-22" name="Else" sid="962067416533072" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="558071946277221" type="Audio">
                                    <param id="0" name="Audio file">mushstep3</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">25</param>
                                    <param id="1" name="Tag (optional)">&quot;step3&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="529308842497278">
                    <conditions>
                        <condition id="2" name="Key is down" sid="918181393265357" type="Keyboard">
                            <param id="0" name="Key">87</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="116092791006655" type="player">
                            <param id="0" name="Control">2</param>
                        </action>
                        <action id="4" name="Set animation" sid="358121096410572" type="player">
                            <param id="0" name="Animation">&quot;upStep&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="517117532186269">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="105227702689724" type="System">
                                    <param id="0" name="Interval (seconds)">0.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="320545947587993" type="player">
                                    <param id="0" name="Object">playerSteps</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="4" name="Set animation" sid="558520384962118" type="playerSteps">
                                    <param id="0" name="Animation">&quot;Up&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="320500611285483" type="playerSteps" />
                                <action id="-16" name="Wait" sid="133333348458850" type="System">
                                    <param id="0" name="Seconds">1.0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="840042819245747" type="playerSteps" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="560640139508130">
                    <conditions>
                        <condition id="2" name="Key is down" sid="477105547179091" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="199977829775438" type="player">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="776141877447999" type="player">
                            <param id="0" name="Animation">&quot;leftStep&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="913506807882744">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="599711936586334" type="System">
                                    <param id="0" name="Interval (seconds)">0.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="661763590846438" type="player">
                                    <param id="0" name="Object">playerSteps</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="4" name="Set animation" sid="698715938070459" type="playerSteps">
                                    <param id="0" name="Animation">&quot;Left&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="649268426066060" type="playerSteps" />
                                <action id="-16" name="Wait" sid="934159309848020" type="System">
                                    <param id="0" name="Seconds">1.0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="345650219702637" type="playerSteps" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="871168835582654">
                    <conditions>
                        <condition id="2" name="Key is down" sid="728725420788118" type="Keyboard">
                            <param id="0" name="Key">83</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="552096931084634" type="player">
                            <param id="0" name="Control">3</param>
                        </action>
                        <action id="4" name="Set animation" sid="200215400559660" type="player">
                            <param id="0" name="Animation">&quot;downStep&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="701069342417546">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="547653909511625" type="System">
                                    <param id="0" name="Interval (seconds)">0.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="233588428748291" type="player">
                                    <param id="0" name="Object">playerSteps</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="4" name="Set animation" sid="486376785731267" type="playerSteps">
                                    <param id="0" name="Animation">&quot;Down&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="923471603534889" type="playerSteps" />
                                <action id="-16" name="Wait" sid="122516827016582" type="System">
                                    <param id="0" name="Seconds">1.0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="521998905753364" type="playerSteps" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="979361484607802">
                    <conditions>
                        <condition id="2" name="Key is down" sid="450548237335354" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="523343404010031" type="player">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="805567983849156" type="player">
                            <param id="0" name="Animation">&quot;rightStep&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="954070973096288">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="279312595035206" type="System">
                                    <param id="0" name="Interval (seconds)">0.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="108657205071039" type="player">
                                    <param id="0" name="Object">playerSteps</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="4" name="Set animation" sid="412681236196059" type="playerSteps">
                                    <param id="0" name="Animation">&quot;Right&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="282700494220271" type="playerSteps" />
                                <action id="-16" name="Wait" sid="329119368023591" type="System">
                                    <param id="0" name="Seconds">1.0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="657513557810727" type="playerSteps" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="363198703204125">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="619656695857457" type="player">
                            <param id="0" name="Instance variable">busy</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>turn based wait thing for ai moving</comment>
                        <variable constant="0" name="oldX" sid="478355633447014" static="1" type="number">0</variable>
                        <variable constant="0" name="oldY" sid="168513857626284" static="1" type="number">0</variable>
                        <event-block disabled="1" sid="837325001922863">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="824339632121514" type="Keyboard">
                                    <param id="0" name="Key">87</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="409952632897218" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="-9" name="Set value" sid="101896154069715" type="System">
                                    <param id="0" name="Variable">oldX</param>
                                    <param id="1" name="Value">player.X</param>
                                </action>
                                <action id="-9" name="Set value" sid="962903228352194" type="System">
                                    <param id="0" name="Variable">oldY</param>
                                    <param id="1" name="Value">player.Y</param>
                                </action>
                                <action id="-2" name="Set Y" sid="570440085775567" type="player">
                                    <param id="0" name="Y">player.Y-STEP</param>
                                </action>
                                <action id="4" name="Set animation" sid="500304724509035" type="player">
                                    <param id="0" name="Animation">&quot;Up&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="855321508394455">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="735446747938497" type="Keyboard">
                                    <param id="0" name="Key">65</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="818168880956238" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="-9" name="Set value" sid="996290239279165" type="System">
                                    <param id="0" name="Variable">oldX</param>
                                    <param id="1" name="Value">player.X</param>
                                </action>
                                <action id="-9" name="Set value" sid="896823729205757" type="System">
                                    <param id="0" name="Variable">oldY</param>
                                    <param id="1" name="Value">player.Y</param>
                                </action>
                                <action id="-1" name="Set X" sid="985196429644199" type="player">
                                    <param id="0" name="X">player.X-STEP</param>
                                </action>
                                <action id="4" name="Set animation" sid="360932275834207" type="player">
                                    <param id="0" name="Animation">&quot;Left&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="335044519949682">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="219408353105468" type="Keyboard">
                                    <param id="0" name="Key">83</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="272358774793171" type="player">
                                    <param id="0" name="Animation">&quot;downStep&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-16" name="Wait" sid="907190515032673" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="-9" name="Set value" sid="836695164246927" type="System">
                                    <param id="0" name="Variable">oldX</param>
                                    <param id="1" name="Value">player.X</param>
                                </action>
                                <action id="-9" name="Set value" sid="479137976688277" type="System">
                                    <param id="0" name="Variable">oldY</param>
                                    <param id="1" name="Value">player.Y</param>
                                </action>
                                <action id="-2" name="Set Y" sid="336988567379406" type="player">
                                    <param id="0" name="Y">player.Y+STEP</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="208690164485207">
                            <conditions>
                                <condition id="4" name="On finished" sid="682588388687479" type="player">
                                    <param id="0" name="Animation">&quot;downStep&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="130136536676098" type="player">
                                    <param id="0" name="Animation">&quot;Down&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="334235548478674">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="551730744134376" type="Keyboard">
                                    <param id="0" name="Key">68</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="603834668679089" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="-9" name="Set value" sid="736067099650424" type="System">
                                    <param id="0" name="Variable">oldX</param>
                                    <param id="1" name="Value">player.X</param>
                                </action>
                                <action id="-9" name="Set value" sid="410376487033519" type="System">
                                    <param id="0" name="Variable">oldY</param>
                                    <param id="1" name="Value">player.Y</param>
                                </action>
                                <action id="-1" name="Set X" sid="584268014498529" type="player">
                                    <param id="0" name="X">player.X+STEP</param>
                                </action>
                                <action id="4" name="Set animation" sid="143562921041744" type="player">
                                    <param id="0" name="Animation">&quot;Right&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" disabled="1" sid="997321069255321">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="897826770948647" type="Keyboard">
                                    <param id="0" name="Key">87</param>
                                </condition>
                                <condition id="0" name="On key pressed" sid="120433804600661" type="Keyboard">
                                    <param id="0" name="Key">65</param>
                                </condition>
                                <condition id="0" name="On key pressed" sid="527355229613894" type="Keyboard">
                                    <param id="0" name="Key">83</param>
                                </condition>
                                <condition id="0" name="On key pressed" sid="407246789654930" type="Keyboard">
                                    <param id="0" name="Key">68</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="323358237579830" type="Audio">
                                    <param id="0" name="Audio file">guy_moving</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">-20</param>
                                    <param id="1" name="Tag (optional)">&quot;guy&quot;</param>
                                </action>
                                <action id="5" name="Set playback rate" sid="124766861925975" type="Audio">
                                    <param id="0" name="Tag">&quot;guy&quot;</param>
                                    <param id="1" name="Playback rate">random(0.8, 1.2)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block disabled="1" sid="521908764858918">
                                    <conditions>
                                        <condition id="-3" name="Is on-screen" sid="729917971299048" type="PathFinding" />
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="862485810638981" type="player">
                                            <param id="0" name="Instance variable">busy</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="700865432580173" type="System">
                                            <param id="0" name="Seconds">TURN_TIME</param>
                                        </action>
                                        <action id="0" name="Call function" sid="509366121502797" type="Function">
                                            <param id="0" name="Name">&quot;ai.move&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="458289111863104" type="player">
                                            <param id="0" name="Instance variable">busy</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block disabled="1" sid="630056197490122">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="723661938842048" type="player">
                                            <param id="0" name="Object">solid_collider</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="510387938479284" type="player">
                                            <param id="0" name="X">oldX</param>
                                            <param id="1" name="Y">oldY</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="700472932885442">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="256364251138235" type="playerSteps" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="854421101426451">
                            <conditions>
                                <condition id="-10" name="For" sid="628149679199551" type="System">
                                    <param id="0" name="Name">&quot;&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">50</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="807762151090451" type="System">
                                    <param id="0" name="Seconds">0.25 * loopindex</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="712577169462068" type="playerSteps">
                                    <param id="0" name="Opacity">playerSteps.Opacity-2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="117277048687465">
                    <conditions>
                        <condition id="1" name="On any touch end" sid="900148077711759" type="Touch" />
                    </conditions>
                    <actions />
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
